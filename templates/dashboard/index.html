{% extends "layout/layout.html" %}

{% block content %}
<div class="dashboard-header">
    <h1 data-en="Dashboard Overview" data-pl="Przegląd panelu">Dashboard Overview</h1>
</div>    <div class="dashboard-grid">
    <!-- Graylog Card -->
    {% if has_permission('view_logs') %}
    <div class="dashboard-card graylog-card">
        <div class="card-header">
            <i class="fas fa-history"></i>
            <h2>Graylog Logs</h2>
        </div>
        <div class="card-content">
            <div class="dashboard-nav">
                <a href="/graylog/logs?refresh=1" class="dashboard-nav-link">
                    <i class="fas fa-history"></i>
                    <span data-en="Recent Logs" data-pl="Ostatnie logi">Recent Logs</span>
                    <span class="count">{{ session.get('graylog_limit', 300) }}</span>
                </a>
                <a href="/graylog/loading?target=/graylog/messages-over-time" class="dashboard-nav-link">
                    <i class="fas fa-chart-line"></i>
                    <span data-en="Messages Over Time" data-pl="Wiadomości w czasie">Messages Over Time</span>
                </a>
            </div>
        </div>
    </div>
    {% endif %}

    {% if has_permission('view_monitoring') %}
    <div class="dashboard-card monitoring-card">
        <div class="card-header">
            <i class="fas fa-chart-line"></i>
            <h2 data-en="Zabbix Monitoring" data-pl="Monitoring Zabbix">Zabbix Monitoring</h2>
        </div>
        <div class="card-content">
            <nav class="dashboard-nav">
                <a href="/available-hosts" class="dashboard-nav-link available">
                    <i class="fas fa-check-circle"></i>
                    <span data-en="Available" data-pl="Dostępne">Available</span>
                </a>
                <a href="/unavailable-hosts" class="dashboard-nav-link unavailable">
                    <i class="fas fa-times-circle"></i>
                    <span data-en="Unavailable" data-pl="Niedostępne">Unavailable</span>
                </a>
                <a href="/unknown-hosts" class="dashboard-nav-link unknown">
                    <i class="fas fa-question-circle"></i>
                    <span data-en="Unknown" data-pl="Nieznane">Unknown</span>
                </a>
            </nav>
        </div>
    </div>
    {% endif %}

    <!-- Functions Card -->
    <div class="dashboard-card functions-card">
        <div class="card-header">
            <i class="fas fa-cogs"></i>
            <h2 data-en="Functions" data-pl="Funkcje">Functions</h2>
        </div>
        <div class="card-content">
            <nav class="dashboard-nav">
                <a href="/inventory" class="dashboard-nav-link">
                    <i class="fas fa-boxes"></i>
                    <span data-en="Item Inventory" data-pl="Inwentaryzacja">Item Inventory</span>
                </a>
                <a href="/tasks" class="dashboard-nav-link">
                    <i class="fas fa-tasks"></i>
                    <span data-en="Task Management" data-pl="Zarządzanie zadaniami">Task Management</span>
                </a>
                <a href="/reports" class="dashboard-nav-link">
                    <i class="fas fa-file-alt"></i>
                    <span data-en="Reports" data-pl="Raporty">Reports</span>
                </a>
            </nav>
        </div>
    </div>

    <div class="dashboard-card glpi-card">
        <div class="card-header">
            <i class="fas fa-desktop"></i>
            <h2 data-en="GLPI Inventory" data-pl="Inwentaryzacja GLPI">GLPI Inventory</h2>
        </div>
        <div class="card-content">
            <nav class="dashboard-nav">
                <a href="/glpi/workstations" class="dashboard-nav-link">
                    <i class="fas fa-desktop"></i>
                    <span data-en="Workstations (KS)" data-pl="Stacje robocze (KS)">Workstations (KS)</span>
                    <span class="count">{{ glpi.category_counts.workstations }}</span>
                </a>
                <a href="/glpi/terminals" class="dashboard-nav-link">
                    <i class="fas fa-terminal"></i>
                    <span data-en="Terminals (KT)" data-pl="Terminale (KT)">Terminals (KT)</span>
                    <span class="count">{{ glpi.category_counts.terminals }}</span>
                </a>
                <a href="/glpi/servers" class="dashboard-nav-link">
                    <i class="fas fa-server"></i>
                    <span data-en="Servers" data-pl="Serwery">Servers</span>
                    <span class="count">{{ glpi.category_counts.servers }}</span>
                </a>
                <a href="/glpi/network" class="dashboard-nav-link">
                    <i class="fas fa-network-wired"></i>
                    <span data-en="Network Devices" data-pl="Urządzenia sieciowe">Network Devices</span>
                    <span class="count">{{ glpi.category_counts.network }}</span>
                </a>
                <a href="/glpi/printers" class="dashboard-nav-link">
                    <i class="fas fa-print"></i>
                    <span data-en="Printers" data-pl="Drukarki">Printers</span>
                    <span class="count">{{ glpi.category_counts.printers }}</span>
                </a>
                <a href="/glpi/monitors" class="dashboard-nav-link">
                    <i class="fas fa-tv"></i>
                    <span data-en="Monitors" data-pl="Monitory">Monitors</span>
                    <span class="count">{{ glpi.category_counts.monitors }}</span>
                </a>
                <a href="/glpi/racks" class="dashboard-nav-link">
                    <i class="fas fa-server"></i>
                    <span data-en="Racks" data-pl="Szafy serwerowe">Racks</span>
                    <span class="count">{{ glpi.category_counts.racks }}</span>
                </a>
                <a href="/glpi/others" class="dashboard-nav-link">
                    <i class="fas fa-microchip"></i>
                    <span data-en="Other Devices" data-pl="Inne urządzenia">Other Devices</span>
                    <span class="count">{{ glpi.category_counts.other }}</span>
                </a>
            </nav>
        </div>
    </div>
</div>
{% endblock %}
